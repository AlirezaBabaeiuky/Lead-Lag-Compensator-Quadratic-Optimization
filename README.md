# Lead-Lag-Compensator-Quadratic-Optimization
This repository includes Lead Compensator, Lag Compensator, and Lag-Lead Compensator designs to address: Stability Margin (Angle Deficiency), Steady-State Accuracy, and overall performance of an Electric Motor. 
Optimum solution of different compensators is selected via: Quadratic Optimization and Performance Index. 
---
Compensators in control engineering realm are physical elemtns/devices with electronic boards whic mathematically encompass zeros and poles. Multiplying the plant transfer function with such zeros and poles alters the system dynamics and responses. So, compensators can be used to 
loop-shaping (re-shape) the system responses in Bode and Nyquist, Step ... .  
Loop Shaping is a more general technique in controls engineering to add filters (which are again zeros and poles) to the open-loop transfer function to modify system response so that the Dominant Closed-Loop Poles are located the Desired locations in Comple xFrequency (S - Laplace variable) domain. This process is called: Loop-Shaping, Filter Design, Lag/Lead Compensator Design, Pole-Placement (in modern controls), ...
---
Focusing on Compensators: typically there are 3 types of compensators, lead and lag or combination of both. Main difference is: lead compensator's zero is usually closer to the orogin in complex plane, while in the lag compensator, the zero is usually farther from the orogin and pole is closer. Having pole farther from the origin in lead re-shapes the closed-loop transfer functions towards the left-side of the complex plane (adding phase). This loop-shaping enhances system stability particularly at higher frequencies. In contrast, having a pole closer to the origin than a zero, pulls the closed-loop transfer function towards the origin (righ-shift) which makes the system less stable. 
So, LEAD compensator, results in: increased stability margin (specially PHASE margin), improves system response in terms of: reducing rise time (making system fast-responding), increasing the Band Width (BW). All is guarantted by adding phase. 
Lag compensator is usually added to improve the steady-state response by minimizing the offset. The goal of lag is to minimally impact the transient response and only change the steady-state response. (recapp: FRF and TF are for only steady-state and linear responses). This is why it is preferred to have: magnitude of the lag compensator close to 1 and phase contributions should be less than 5 degrees in maximum cases. So, Zero and Pole of lag should be CLOSELY-LOCATED so that their affect over the system closed-loop response in restricted to only: offset at LOW FREQUENCIES. Lead usually increases gain at high frequencies (increases BW, increases phase margin, increases response time); lag increases gain at lower frequencies and reduces gain at high frequencies. Lead should ideally reduce Sensitivity to disturbances (better noise rejection at certain frequencies), lag slightly reduces phase and bandwidth, improves LF sensitivity (better tracking, but mor esensitive to low-frequency disturbances).      
I have adopted 3 different methods to design compensators with respect to: Performance Requirements or Specifications: 1- Geometry method (bi-secting the angle defficiency on the complex - s-plane), 2- Zero-Pole Cancellation (careful attention here: if the system has positive zeros or unstable adding such zero-pole cancellation can easily result in: UNSTABLE system), 3- Quadratic optimization of the performance index to find the optimal compensator (this is customized and self-scripted code snippet in MATLAB; code snippets enclosed as .m files).     
Following is step response of the electric motor: 
![image](https://github.com/user-attachments/assets/7699cec4-aef2-4616-be75-9cea08922678)
lag compensator alone expectedly results in even more oscillatory response meaning worsening the system, but it has improved the steady-state offset. Lead compensator on the other hand, is the best loop-shaping in the TRANSIENT RESPONSES; there is NO maximum peak overshoot meaning that system is ROBUST (having an overshoot endangers robustness!). So less oscillatory response means more robust and more stable (greater stability margine). (this is all due to increasing the gain at high frequencies by having poles farther fro mthe origin). Here is a danger: Too much large poles with lead compensator (draging the system response too much towards the left in s-plane) will probably result in: LARGE control signals making the signal nonlinear, and this is along with saturation limits of the actuators. If only stability and transients and robustness is of concern, then lead ocmpensator is the ideal choice. If only the steady-state error (offset) is of main concern then the lag comepnsator is of major interest. If both, then a trade-off is needed and this results in purple color that it is not oscillatory but still there exists an overshoot (a little bit of conern in terms of robustness) and still good accuracy in steady-state responses. 
Following is the frequency-response of the syste with compensators:
![image](https://github.com/user-attachments/assets/0af813bc-2b4f-4c10-b2fe-93663b958fbb)
Obviously, the peaks at the resonance are gone with lead endorsing that more robustness is secured; besides, the corresponding phase also shows increased phase margin at the gain cross-over frequency.  


